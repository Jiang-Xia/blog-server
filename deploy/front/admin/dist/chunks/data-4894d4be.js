import{r as p}from"../entrys/index-cbfe43de.js";import{e as s}from"./arco-ec7c5947.js";import{u as d}from"./loading-4e963a8c.js";const b=(c,g,a="get",o=!0)=>{const r=s([]),i=s(0),{loading:u,setLoading:e}=d(!0),t=s(g),f=s({}),n=async()=>{const l=await p({url:c,method:a,params:a==="get"?t.value:"",data:a==="post"?t.value:""});u.value=!1,e(!1),r.value=l.data.list,l.data.pagination.current=l.data.pagination.page,f.value=l.data.pagination};return o&&n(),{pagination:f,action:t,loading:u,list:r,total:i,loadMore:n,refreshFun:()=>{n()}}},w=(c,g,a="get")=>{const o=s([]),r=s(0),{loading:i,setLoading:u}=d(!0),e=s(g),t=async()=>{const n=await p({url:c,method:a,params:a==="get"?e.value:"",data:a==="post"?e.value:""});i.value=!1,u(!1),o.value=n.data};return t(),{action:e,loading:i,list:o,total:r,loadMore:t,refreshFun:()=>{t()}}};export{b as a,w as u};
