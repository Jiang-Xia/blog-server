<div align="center">
	<h1>Blog Server</h1>
	<p>åŸºäº NestJS + TypeORM + MySQL çš„ç°ä»£åŒ–åšå®¢åç«¯æœåŠ¡</p>
</div>

<div align="center">

[![license](https://img.shields.io/badge/license-MIT-green.svg)](./LICENSE)
[![nestjs](https://img.shields.io/badge/NestJS-10.4.4-red.svg)](https://nestjs.com/)
[![typescript](https://img.shields.io/badge/TypeScript-5.0-blue.svg)](https://www.typescriptlang.org/)
[![mysql](https://img.shields.io/badge/MySQL-8.0-orange.svg)](https://www.mysql.com/)

</div>

## ğŸ“– é¡¹ç›®ç®€ä»‹

**Blog Server** æ˜¯ä¸€ä¸ªåŸºäº `NestJS` æ¡†æ¶å¼€å‘çš„ç°ä»£åŒ–åšå®¢åç«¯æœåŠ¡ç³»ç»Ÿï¼Œé‡‡ç”¨ `TypeScript` å¼€å‘ï¼Œä½¿ç”¨ `TypeORM` ä½œä¸º ORM æ¡†æ¶ï¼Œ`MySQL` ä½œä¸ºæ•°æ®åº“ã€‚é¡¹ç›®æä¾›äº†å®Œæ•´çš„åšå®¢åŠŸèƒ½ï¼ŒåŒ…æ‹¬æ–‡ç« ç®¡ç†ã€ç”¨æˆ·ç³»ç»Ÿã€è¯„è®ºç³»ç»Ÿã€æ–‡ä»¶ä¸Šä¼ ã€æƒé™ç®¡ç†ç­‰æ ¸å¿ƒåŠŸèƒ½ã€‚

## âœ¨ ä¸»è¦ç‰¹æ€§

- ğŸš€ **ç°ä»£åŒ–æŠ€æœ¯æ ˆ**: åŸºäº NestJS + TypeScript + TypeORM + MySQL
- ğŸ” **å®Œå–„çš„æƒé™ç³»ç»Ÿ**: æ”¯æŒè¶…çº§ç®¡ç†å‘˜ã€ç®¡ç†å‘˜ã€ä½œè€…ä¸‰ç§è§’è‰²
- ğŸ“ **å®Œæ•´çš„åšå®¢åŠŸèƒ½**: æ–‡ç« ç®¡ç†ã€åˆ†ç±»æ ‡ç­¾ã€è¯„è®ºå›å¤ã€ç‚¹èµæ”¶è—
- ğŸ‘¥ **ç”¨æˆ·ç®¡ç†ç³»ç»Ÿ**: ç”¨æˆ·æ³¨å†Œç™»å½•ã€ä¸ªäººä¿¡æ¯ç®¡ç†
- ğŸ“ **æ–‡ä»¶ç®¡ç†**: æ”¯æŒæ–‡ä»¶ä¸Šä¼ å’Œç®¡ç†
- ğŸ’¬ **äº’åŠ¨åŠŸèƒ½**: ç•™è¨€æ¿ã€è¯„è®ºå›å¤ç³»ç»Ÿ
- ğŸ“Š **æ•°æ®ç»Ÿè®¡**: è®¿é—®ç»Ÿè®¡ã€æ–‡ç« ç»Ÿè®¡ç­‰
- ğŸ”— **å¤–é“¾ç®¡ç†**: æ”¯æŒå‹æƒ…é“¾æ¥ç®¡ç†
- ğŸ“± **API æ–‡æ¡£**: é›†æˆ Swagger UI è‡ªåŠ¨ç”Ÿæˆ API æ–‡æ¡£
- ğŸ³ **Docker éƒ¨ç½²**: æä¾›å®Œæ•´çš„ Docker éƒ¨ç½²æ–¹æ¡ˆ
- ğŸ”’ **å®‰å…¨é˜²æŠ¤**: JWT è®¤è¯ã€è§’è‰²æƒé™æ§åˆ¶

## ğŸ—ï¸ é¡¹ç›®æ¶æ„

```
blog-server/
â”œâ”€â”€ src/                           # æºä»£ç ç›®å½•
â”‚   â”œâ”€â”€ modules/                   # åŠŸèƒ½æ¨¡å—ç›®å½•
â”‚   â”‚   â”œâ”€â”€ article/               # æ–‡ç« ç®¡ç†æ¨¡å—
â”‚   â”‚   â”‚   â”œâ”€â”€ dto/               # æ•°æ®ä¼ è¾“å¯¹è±¡
â”‚   â”‚   â”‚   â”œâ”€â”€ entity/            # æ•°æ®åº“å®ä½“
â”‚   â”‚   â”‚   â”œâ”€â”€ interface/         # æ¥å£å®šä¹‰
â”‚   â”‚   â”‚   â””â”€â”€ vo/                # è§†å›¾å¯¹è±¡
â”‚   â”‚   â”œâ”€â”€ user/                  # ç”¨æˆ·ç®¡ç†æ¨¡å—
â”‚   â”‚   â”‚   â”œâ”€â”€ dto/               # æ•°æ®ä¼ è¾“å¯¹è±¡
â”‚   â”‚   â”‚   â”œâ”€â”€ entity/            # æ•°æ®åº“å®ä½“
â”‚   â”‚   â”‚   â””â”€â”€ vo/                # è§†å›¾å¯¹è±¡
â”‚   â”‚   â”œâ”€â”€ auth/                  # è®¤è¯æˆæƒæ¨¡å—
â”‚   â”‚   â”œâ”€â”€ admin/                 # ç®¡ç†åå°æ¨¡å—
â”‚   â”‚   â”‚   â””â”€â”€ system/            # ç³»ç»Ÿç®¡ç†å­æ¨¡å—
â”‚   â”‚   â”‚       â””â”€â”€ entities/      # ç³»ç»Ÿå®ä½“
â”‚   â”‚   â”œâ”€â”€ category/              # åˆ†ç±»ç®¡ç†æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ tag/                   # æ ‡ç­¾ç®¡ç†æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ comment/               # è¯„è®ºç®¡ç†æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ reply/                 # å›å¤ç®¡ç†æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ like/                  # ç‚¹èµç®¡ç†æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ msgboard/              # ç•™è¨€æ¿æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ file/                  # æ–‡ä»¶ç®¡ç†æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ resources/             # èµ„æºç®¡ç†æ¨¡å—
â”‚   â”‚   â””â”€â”€ pub/                   # å…¬å…±æ¥å£æ¨¡å—
â”‚   â”œâ”€â”€ config/                    # é…ç½®æ–‡ä»¶ç›®å½•
â”‚   â”œâ”€â”€ utils/                     # å·¥å…·å‡½æ•°ç›®å½•
â”‚   â”œâ”€â”€ filters/                   # å¼‚å¸¸è¿‡æ»¤å™¨ç›®å½•
â”‚   â”œâ”€â”€ interceptor/               # æ‹¦æˆªå™¨ç›®å½•
â”‚   â”œâ”€â”€ middleware/                # ä¸­é—´ä»¶ç›®å½•
â”‚   â”œâ”€â”€ types/                     # ç±»å‹å®šä¹‰ç›®å½•
â”‚   â””â”€â”€ script/                    # è„šæœ¬æ–‡ä»¶ç›®å½•
â”œâ”€â”€ deploy/                        # éƒ¨ç½²é…ç½®ç›®å½•
â”‚   â”œâ”€â”€ front/                     # å‰ç«¯éƒ¨ç½²é…ç½®
â”‚   â”‚   â”œâ”€â”€ admin/                 # ç®¡ç†åå°éƒ¨ç½²
â”‚   â”‚   â””â”€â”€ output/                # è¾“å‡ºç›®å½•
â”‚   â”œâ”€â”€ nginx/                     # Nginx é…ç½®
â”‚   â””â”€â”€ sql/                       # æ•°æ®åº“è„šæœ¬
â”œâ”€â”€ config/                        # é¡¹ç›®é…ç½®ç›®å½•
â”‚   â””â”€â”€ scripts/                   # è„šæœ¬æ–‡ä»¶
â”œâ”€â”€ assets/                        # é™æ€èµ„æºç›®å½•
â”œâ”€â”€ public/                        # å…¬å…±èµ„æºç›®å½•
â”‚   â””â”€â”€ data/                      # æ•°æ®æ–‡ä»¶
â”œâ”€â”€ test/                          # æµ‹è¯•æ–‡ä»¶ç›®å½•
â”œâ”€â”€ docker-compose.yml             # Docker ç¼–æ’æ–‡ä»¶
â”œâ”€â”€ docker-compose.debug.yml       # Docker è°ƒè¯•é…ç½®
â”œâ”€â”€ Dockerfile                     # Docker æ„å»ºæ–‡ä»¶
â”œâ”€â”€ ecosystem.config.js            # PM2 é…ç½®æ–‡ä»¶
â”œâ”€â”€ package.json                   # é¡¹ç›®ä¾èµ–é…ç½®
â”œâ”€â”€ tsconfig.json                  # TypeScript é…ç½®
â”œâ”€â”€ nest-cli.json                  # NestJS CLI é…ç½®
â”œâ”€â”€ commitlint.config.js           # æäº¤è§„èŒƒé…ç½®
â””â”€â”€ README.md                      # é¡¹ç›®è¯´æ˜æ–‡æ¡£
```

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

### åç«¯æ¡†æ¶
- **[NestJS](https://nestjs.com/)** - æ¸è¿›å¼ Node.js æ¡†æ¶
- **[TypeScript](https://www.typescriptlang.org/)** - JavaScript çš„è¶…é›†
- **[TypeORM](https://typeorm.io/)** - å¼ºå¤§çš„ ORM æ¡†æ¶

### æ•°æ®åº“
- **[MySQL 8.0](https://www.mysql.com/)** - å…³ç³»å‹æ•°æ®åº“

### è®¤è¯æˆæƒ
- **[Passport](http://www.passportjs.org/)** - èº«ä»½éªŒè¯ä¸­é—´ä»¶
- **[JWT](https://jwt.io/)** - JSON Web Token
- **[@nestjs/jwt](https://docs.nestjs.com/security/authentication)** - JWT æ¨¡å—

### æ–‡æ¡£å’Œå·¥å…·
- **[Swagger UI](https://swagger.io/tools/swagger-ui/)** - API æ–‡æ¡£
- **[class-validator](https://github.com/typestack/class-validator)** - æ•°æ®éªŒè¯
- **[class-transformer](https://github.com/typestack/class-transformer)** - å¯¹è±¡è½¬æ¢

### éƒ¨ç½²å’Œè¿ç»´
- **[Docker](https://www.docker.com/)** - å®¹å™¨åŒ–éƒ¨ç½²
- **[PM2](https://pm2.keymetrics.io/)** - Node.js è¿›ç¨‹ç®¡ç†
- **[Nginx](https://nginx.org/)** - åå‘ä»£ç†æœåŠ¡å™¨

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- Node.js >= 16.0.0
- MySQL >= 8.0
- Docker (å¯é€‰)

### å®‰è£…ä¾èµ–

```bash
# ä½¿ç”¨ npm
npm install

# ä½¿ç”¨ yarn
yarn install
```

### ç¯å¢ƒé…ç½®

1. å¤åˆ¶ç¯å¢ƒé…ç½®æ–‡ä»¶
```bash
cp .env.example .env.development
```

2. ä¿®æ”¹æ•°æ®åº“é…ç½®
```env
DB_HOST=localhost
DB_PORT=3306
DB_USERNAME=your_username
DB_PASSWORD=your_password
DB_DATABASE=blog_db
```

> **æ³¨æ„**: é¦–æ¬¡å¯åŠ¨æœåŠ¡æ—¶ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨ç”Ÿæˆè¶…çº§ç®¡ç†å‘˜è´¦å·å’Œé»˜è®¤èœå•é…ç½®ï¼Œå…·ä½“å¯è§æ—¥å¿—ä¸­æ‰“å°ã€‚

### å¯åŠ¨æœåŠ¡

```bash
# å¼€å‘æ¨¡å¼
npm run start:dev

# ç”Ÿäº§æ¨¡å¼
npm run start:prod

# è°ƒè¯•æ¨¡å¼
npm run start:debug
```

### Docker éƒ¨ç½²

```bash
# å¯åŠ¨æ‰€æœ‰æœåŠ¡
docker-compose up -d

# æŸ¥çœ‹æœåŠ¡çŠ¶æ€
docker-compose ps

# åœæ­¢æœåŠ¡
docker-compose down
```

## ğŸ“‹ åŠŸèƒ½æ¨¡å—

### ğŸ” è®¤è¯æˆæƒæ¨¡å— (`auth`)
- JWT ä»¤ç‰Œè®¤è¯
- è§’è‰²æƒé™æ§åˆ¶ (super/admin/author)
- ç™»å½•æ³¨å†ŒåŠŸèƒ½

### ğŸ“ æ–‡ç« ç®¡ç†æ¨¡å— (`article`)
- æ–‡ç« çš„å¢åˆ æ”¹æŸ¥
- æ–‡ç« åˆ†ç±»å’Œæ ‡ç­¾
- æ–‡ç« è®¿é—®é‡ç»Ÿè®¡
- æ–‡ç« ç‚¹èµåŠŸèƒ½
- æ–‡ç« å½’æ¡£åŠŸèƒ½

### ğŸ‘¥ ç”¨æˆ·ç®¡ç†æ¨¡å— (`user`)
- ç”¨æˆ·æ³¨å†Œç™»å½•
- ç”¨æˆ·ä¿¡æ¯ç®¡ç†
- ç”¨æˆ·åˆ—è¡¨ç®¡ç†

### ğŸ·ï¸ åˆ†ç±»æ ‡ç­¾æ¨¡å— (`category`, `tag`)
- åˆ†ç±»ç®¡ç†
- æ ‡ç­¾ç®¡ç†
- åˆ†ç±»æ ‡ç­¾å…³è”

### ğŸ’¬ è¯„è®ºç³»ç»Ÿæ¨¡å— (`comment`, `reply`)
- æ–‡ç« è¯„è®ºåŠŸèƒ½
- è¯„è®ºå›å¤åŠŸèƒ½
- è¯„è®ºç®¡ç†

### ğŸ‘ äº’åŠ¨åŠŸèƒ½æ¨¡å— (`like`, `msgboard`)
- æ–‡ç« ç‚¹èµåŠŸèƒ½
- ç•™è¨€æ¿åŠŸèƒ½

### ğŸ“ æ–‡ä»¶ç®¡ç†æ¨¡å— (`file`)
- æ–‡ä»¶ä¸Šä¼ åŠŸèƒ½
- æ–‡ä»¶ç®¡ç†

### âš™ï¸ ç®¡ç†åå°æ¨¡å— (`admin`)
- èœå•ç®¡ç†
- å¤–é“¾ç®¡ç†
- ç³»ç»Ÿç®¡ç†

## ğŸ”§ å¼€å‘æŒ‡å—

### ä»£ç è§„èŒƒ

é¡¹ç›®ä½¿ç”¨ ESLint + Prettier è¿›è¡Œä»£ç è§„èŒƒæ§åˆ¶ï¼š

```bash
# ä»£ç æ ¼å¼åŒ–
npm run format

# ä»£ç æ£€æŸ¥
npm run lint

# è‡ªåŠ¨ä¿®å¤
npm run lint:fix
```

### æäº¤è§„èŒƒ

é¡¹ç›®ä½¿ç”¨ commitlint è¿›è¡Œæäº¤ä¿¡æ¯è§„èŒƒï¼š

```bash
# æäº¤ç¤ºä¾‹
git commit -m "feat: æ·»åŠ ç”¨æˆ·ç™»å½•åŠŸèƒ½"
git commit -m "fix: ä¿®å¤æ–‡ç« åˆ—è¡¨åˆ†é¡µé—®é¢˜"
git commit -m "docs: æ›´æ–° README æ–‡æ¡£"
```

## ğŸ“š API æ–‡æ¡£

å¯åŠ¨æœåŠ¡åï¼Œè®¿é—®ä»¥ä¸‹åœ°å€æŸ¥çœ‹ API æ–‡æ¡£ï¼š

- **Swagger UI**: `http://localhost:5000/api-docs`

## ğŸŒ åœ¨çº¿é¢„è§ˆ

- **åšå®¢å‰å°**: [https://jiang-xia.top/](https://jiang-xia.top/)
- **ç®¡ç†åå°**: [https://admin.jiang-xia.top/](https://admin.jiang-xia.top/)

## ğŸ“¦ éƒ¨ç½²è¯´æ˜

### åˆå§‹åŒ–æ•°æ®

**æœåŠ¡ç¬¬ä¸€æ¬¡å¯åŠ¨ï¼š**
1. `server` ä¼šé»˜è®¤ç”Ÿæˆä¸€ä¸ªè¶…çº§ç®¡ç†å‘˜è´¦å·ï¼Œå…·ä½“å¯è§æ—¥å¿—ä¸­æ‰“å°(è§’è‰²åˆ†ä¸ºï¼š`superï¼Œadminï¼Œauthor` ä¸‰ç§)ã€‚
2. å¯¹äº `admin` ç«¯å·¦ä¾§èœå•ç®¡ç†ä¼šé»˜è®¤ç”Ÿæˆï¼Œå·¥ä½œå°å’Œç³»ç»Ÿç®¡ç†ä¸¤ä¸ªå¯¼èˆªã€‚

## ğŸ¤ è´¡çŒ®æŒ‡å—

1. Fork æœ¬ä»“åº“
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. æ‰“å¼€ Pull Request

## ğŸ“„ å¼€æºåè®®

æœ¬é¡¹ç›®åŸºäº [MIT](LICENSE) åè®®å¼€æºã€‚

## ğŸ‘¨â€ğŸ’» ä½œè€…

**jiang-xia**

- GitHub: [@jiang-xia](https://github.com/jiang-xia)
- Gitee: [@jiang-xia](https://gitee.com/jiang-xia)

## ğŸ™ è‡´è°¢

æ„Ÿè°¢æ‰€æœ‰ä¸ºè¿™ä¸ªé¡¹ç›®åšå‡ºè´¡çŒ®çš„å¼€å‘è€…ä»¬ï¼

---

<div align="center">
å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç»™ä¸ª â­ï¸ æ”¯æŒä¸€ä¸‹ï¼
</div>
