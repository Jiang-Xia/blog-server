import{r as o,d as v,a as y}from"../entrys/index-cbfe43de.js";import{d as f,e as i,w as F,C as w,aE as B,aH as C,aI as T,aS as l,b6 as b,aT as E}from"./arco-ec7c5947.js";import{b as k}from"./article-d61dc826.js";import{c as _}from"./category-27b61759.js";const $=f({__name:"create-modal",props:{value:{type:Boolean,default:!1},type:{type:String,default:"\u5206\u7C7B"}},emits:["update:value","ok"],setup(e,{emit:a}){const u=e,t=i(""),c=i(u.value);F(()=>u.value,(d,s)=>{c.value=d,d&&(t.value="")});const p=()=>{if(!t.value){l.warning("\u8BF7\u8F93\u5165\u540D\u79F0");return}if(t.value&&t.value.length<2){l.warning("\u5B57\u6570\u8981\u4E24\u4E2A\u4EE5\u4E0A\u54E6\uFF01");return}a("update:value",!1),a("ok",{name:t.value,type:u.type})};return(d,s)=>{const g=b,m=E;return w(),B(m,{visible:c.value,"onUpdate:visible":s[1]||(s[1]=r=>c.value=r),title:"\u65B0\u589E"+e.type,"cancel-text":"\u53D6\u6D88","ok-text":"\u786E\u8BA4",onOk:p,onCancel:s[2]||(s[2]=r=>a("update:value",!1))},{default:C(()=>[T(g,{modelValue:t.value,"onUpdate:modelValue":s[0]||(s[0]=r=>t.value=r),placeholder:"\u8BF7\u8F93\u5165"+e.type+"\u540D"},null,8,["modelValue","placeholder"])]),_:1},8,["visible","title"])}}}),h=async e=>(await o({url:`/tag/${e}`,method:"get"})).data,A=async e=>(await o({url:"/tag",method:"get",params:e})).data,D=async e=>(await o({url:"/tag",method:"post",data:e})).data,S=async e=>(await o({url:"/tag",method:"patch",data:e})).data,x=async e=>(await o({url:`/tag/${e}`,method:"delete"})).data,O=Object.freeze(Object.defineProperty({__proto__:null,getTagById:h,getAllTag:A,createTag:D,updateTag:S,delTag:x},Symbol.toStringTag,{value:"Module"})),n={...k,...O,..._,...v},V=y(),H=async({name:e,type:a,cb:u})=>{const t={label:e,value:e,uid:V.id};a==="\u5206\u7C7B"?(await n.createCategory(t),l.success("\u6DFB\u52A0\u6210\u529F\uFF01"),u()):(await n.createTag(t),l.success("\u6DFB\u52A0\u6210\u529F\uFF01"),u())},q=async(e,a)=>e==="\u5206\u7C7B"?await n.delCategory(a):await n.delTag(a);export{$ as _,H as c,q as d};
