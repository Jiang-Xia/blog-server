import{u as z,r as _,_ as D}from"../entrys/index-cbfe43de.js";/* empty css              *//* empty css               */import{u as N}from"./loading-4e963a8c.js";/* empty css              *//* empty css               *//* empty css                *//* empty css              *//* empty css                *//* empty css               *//* empty css               *//* empty css               *//* empty css               */import{d as H,e as m,r as I,C as M,D as P,aI as e,aH as t,u as A,G as O,aN as U,aO as $,aT as j,aS as g,bi as q,bj as G,bm as R,bf as X,bb as Y,aL as r,aX as J,aY as K,bc as Q,bn as W,bg as Z}from"./arco-ec7c5947.js";import"./chart-b82b394e.js";import"./vue-0b4461d7.js";const ee={class:"container"},te=["alt","src"],ae={name:"LinkTable"},ne=H({...ae,setup(oe){const f=()=>({page:1,category:"",tags:[],pageSize:20,total:0,title:"",description:"",content:"",uid:1}),{loading:b,setLoading:d}=N(!0);z();const p=m([]);m(f());const c=I({...{current:1,pageSize:20}}),i=async(n=1)=>{d(!0);const s=await _.get("/link");p.value=s.data,c.total=s.data.length,d(!1)},h=n=>{c.current=1,i()};i();const C=async n=>{j.confirm({title:"\u5220\u9664\u53CB\u94FE",content:"\u786E\u5B9A\u5220\u9664\u8BE5\u53CB\u94FE\u561B\uFF1F",onOk:async()=>{await _.delete("/link",{params:{id:n}}),g.success("\u5220\u9664\u6210\u529F"),i()}})},k=async n=>{const{agreed:s,id:l}=n;await _.patch("/link",{agreed:s,id:l}),g.success("\u8BBE\u7F6E\u6210\u529F")};return(n,s)=>{const l=q,F=G,o=R,x=X,B=Y,v=r("icon-check"),y=r("icon-close"),E=J,w=r("icon-delete"),S=K,V=Q,L=W,T=Z;return M(),P("div",ee,[e(T,{class:"general-card",title:"\u53CB\u94FE\u67E5\u8BE2"},{default:t(()=>[e(F,{style:{"margin-bottom":"16px"}},{default:t(()=>[e(l,{span:16})]),_:1}),e(L,{loading:A(b),"row-key":"id",pagination:c,data:p.value,bordered:!1,onPageChange:h},{columns:t(()=>[e(o,{title:"\u6807\u9898","data-index":"title"}),e(o,{title:"\u56FE\u6807","data-index":"url",align:"center"},{cell:t(({record:a})=>[e(x,null,{default:t(()=>[O("img",{alt:a.title,src:a.icon},null,8,te)]),_:2},1024)]),_:1}),e(o,{title:"\u63CF\u8FF0","data-index":"desp"}),e(o,{title:"\u7F51\u5740","data-index":"url"},{cell:t(({record:a})=>[e(B,{href:a.url,target:"_blank"},{default:t(()=>[U($(a.url),1)]),_:2},1032,["href"])]),_:1}),e(o,{title:"\u72B6\u6001","data-index":"url"},{cell:t(({record:a})=>[e(E,{modelValue:a.agreed,"onUpdate:modelValue":u=>a.agreed=u,onChange:u=>k(a)},{"checked-icon":t(()=>[e(v)]),"unchecked-icon":t(()=>[e(y)]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])]),_:1}),e(o,{title:"\u64CD\u4F5C","data-index":"operations"},{cell:t(({record:a})=>[e(V,{size:8},{default:t(()=>[e(S,{size:"mini",type:"primary",status:"danger",onClick:u=>C(a.id)},{default:t(()=>[e(w)]),_:2},1032,["onClick"])]),_:2},1024)]),_:1})]),_:1},8,["loading","pagination","data"])]),_:1})])}}});const xe=D(ne,[["__scopeId","data-v-92783cf6"]]);export{xe as default};
